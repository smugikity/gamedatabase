{% extends 'base.html' %}
{% load static %}
{% block content %}

<link rel="stylesheet" type="text/css" href="{% static 'css/list.css' %}" />
<script type="text/javascript" src="{% static 'js/list.js' %}"></script>
{% verbatim modal %}
<!-- Modal -->
<div class="modal" id="viewModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog modal-lg modal-dialog-centered">
	<div class="modal-content">
		<div class="modal-body movie-card-container d-flex" id="modal-container" style="word-break: break-word;">

		</div>
	</div>
</div>
</div>
{% endverbatim modal %}

<main class="container my-4">

<h3 class="my-4 border-bottom pb-1"><span class="text-muted">List of </span>{{ custom }}</h3>

<div class="bg-white rounded d-flex flex-wrap mt-5" id="header"> 
		<div class="d-flex align-items-center">
			<button class="btn btn-hide text-uppercase" type="submit" id="filter-btn"> 
				<span id="btn-txt">Sort</span> <span class="fa fa-angle-right" id="filter-angle"></span>
			</button>
		</div>
		<div class="d-flex align-items-center"> 
			<select name="sort" id="sort" onchange="goToPage(current);" value="{{ sort }}">
				{% for key,value in sort_choice.items %}
					<option value="{{ key }}">{{ value }}</option>
				{% endfor %}
			</select>
			<script> 
				$('#sort option[value="{{ sort }}"]').attr('selected','selected');
			</script>
		</div>
		<div class="d-inline-flex align-items-center">
			<div class="d-inline-flex" id="select2">
				Games: <input type="number" name="n_per" id="pro" min="1" max="15" value="{{ n_per }}" onchange="goToPage(current);"/>
			</div>
			<div class="font-weight-bold mx-1">from {{ count }}</div>
		</div>
		<!--hidden field for page-->
		<div>
			<input type="hidden" value="{{ cur_page }}" id="django-page"/>
			<input type="hidden" value="{{ custom }}" id="django-custom"/>
		</div>
		<div class="ms-auto mr-2">
			<div id="page-collections" class="pagination d-flex align-items-center" value="{{ max_page }}">
				<div class="page-item" id="page-previous"> 
					<button class="page-link btn" type="button" aria-label="Previous"> <span aria-hidden="true" class="font-weight-bold">&lt;</span> <span class="sr-only">Previous</span> </button> 
				</div>
				<div class="page-item" id="page-next"> 
					<button class="page-link btn" type="button" aria-label="Next"> <span aria-hidden="true" class="font-weight-bold">&gt;</span> <span class="sr-only">Next</span> </button> 
				</div>
			</div>
		</div>	
</div>


<div id="content" class="mx-0 my-3">
	<!--Custom card list-->
	<div class="row px-4">
		{% if data %}
		{% for item in data %}
			<div class="col-lg-4 col-md-6 pt-2">
				<div class="card d-flex flex-column align-items-center" onclick='viewCustomItem({{ item.id }});' data-toggle="modal" data-target="#viewModal">
					<div class="product-name">{{ item.title }}</div>
					<div class="card-img "> <img src="/media/{{item.image}}" alt=""> </div>
					{% comment %} <div class="card-body pt-4">
						<div class="d-flex align-items-center price">
						<div class="del mr-2"><span class="text-dark">5500 uah</span></div>
						<div class="font-weight-bold">4500 uah</div>
						</div>
					</div> {% endcomment %}
				</div>
			</div>
		{% endfor %}
		{% endif %}
	</div>
</div>
</main>
{% endblock %}